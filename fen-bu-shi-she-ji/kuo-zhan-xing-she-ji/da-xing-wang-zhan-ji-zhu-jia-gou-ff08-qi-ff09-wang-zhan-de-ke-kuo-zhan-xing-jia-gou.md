# 大型网站技术架构（七）--网站的可扩展性架构

扩展性是指对现有系统影响最小的情况下，系统功能可持续扩展或提升的能力。

```
    设计网站可扩展架构的核心思想是模块化，并在此基础上，降低模块间的耦合性，提供模块的复用性。模块通过分布式部署，独立的模块部署在独立的服务器上（集群）从物理上分离模块之间的耦合关系。



    模块分布式部署以后具体聚合方式主要有分布式消息队列和分布式服务。
```

## 1、利用分布式消息队列降低系统耦合性

```
    如果模块之间不存在直接调用，那么新增模块或者修改模块对其他模块影响最小，这样系统的可扩展性无疑更好一些。



    事件驱动框架：通过在低耦合的模块之间传输事件消息，以保持模块的松散耦合，并借助事件消息的通信完成模块间合作，典型的架构就是生产者消费者模式。在大型网站架构中，具体实现手段很多，最常用的就是分布式消息队列，如下图所示：
```

20140607143036703.png

消息队列利用发布-订阅模式工作，消息发送者发布消息，一个或者多个消息接收者订阅消息。

```
   由于消息发送者不需要等待消息接受者处理数据就可以返回，系统具有更好的响应延迟；同时，在网站访问高峰，消息可以暂时存储在消息队列中等待处理，减轻数据库等后端存储的负载压力。



   目前开源的和商业的分布式消息队列产品有很多，比较著名的有Apache ActiveMQ等，如下是分布式消息队列的架构原理：
```

## 2、利用分布式服务打造可复用的业务平台

```
    使用分布式服务是降低系统耦合性的另一个重要手段。如果说分布式消息队列通过消息对象分解系统耦合性，不同子系统处理同一个消息；那么分布式服务则通过接口分解系统耦合性，不同子系统通过相同的接口描述进行服务调用。



    大型网站分布式服务的需求与特点：
```

负载均衡

失效转移

高效的远程通信

整合异构系统

对应用最小入侵

版本管理

实时监控

目前国内有较多成功实施案例的开源分布式服务框架是阿里巴巴的Dubbo，下图是Dubbo的架构原理：

