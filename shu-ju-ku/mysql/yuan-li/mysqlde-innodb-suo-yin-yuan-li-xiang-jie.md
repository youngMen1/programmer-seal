# MySQL的InnoDB索引原理详解

本篇介绍下Mysql的InnoDB索引相关知识，从各种树到索引原理到存储的细节。

　　InnoDB是Mysql的默认存储引擎\(Mysql5.5.5之前是MyISAM，[文档](http://dev.mysql.com/doc/refman/5.5/en/server-options.html#option_mysqld_default-storage-engine)\)。本着高效学习的目的，本篇以介绍InnoDB为主，少量涉及MyISAM作为对比。

　　这篇文章是我在学习过程中总结完成的，内容主要来自书本和博客\(参考文献会给出\)，过程中加入了一些自己的理解，描述不准确的地方烦请指出。

### 　　1 各种树形结构

　　本来不打算从二叉搜索树开始，因为网上已经有太多相关文章，但是考虑到清晰的图示对理解问题有很大帮助，也为了保证文章完整性，最后还是加上了这部分。

　　先看看几种树形结构：

　　1 搜索二叉树：每个节点有两个子节点，数据量的增大必然导致高度的快速增加，显然这个不适合作为大量数据存储的基础结构。

　　2 B树：一棵m阶B树是一棵平衡的m路搜索树。最重要的性质是每个非根节点所包含的关键字个数 j 满足：┌m/2┐ - 1 &lt;= j &lt;= m - 1；一个节点的子节点数量会比关键字个数多1，这样关键字就变成了子节点的分割标志。一般会在图示中把关键字画到子节点中间，非常形象，也容易和后面的B+树区分。由于数据同时存在于叶子节点和非叶子结点中，无法简单完成按顺序遍历B树中的关键字，必须用中序遍历的方法。

　　3 B+树：一棵m阶B树是一棵平衡的m路搜索树。最重要的性质是每个非根节点所包含的关键字个数 j 满足：┌m/2┐ - 1 &lt;= j &lt;= m；子树的个数最多可以与关键字一样多。非叶节点存储的是子树里最小的关键字。同时数据节点只存在于叶子节点中，且叶子节点间增加了横向的指针，这样顺序遍历所有数据将变得非常容易。

　　4 B\*树：一棵m阶B树是一棵平衡的m路搜索树。最重要的两个性质是1每个非根节点所包含的关键字个数 j 满足：┌m2/3┐ - 1 &lt;= j &lt;= m；2非叶节点间添加了横向指针。

