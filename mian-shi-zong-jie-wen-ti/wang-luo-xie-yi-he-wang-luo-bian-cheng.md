## 1、TCP建立连接的过程。 {#1、TCP建立连接的过程。}

三次握手：

第一次握手：客户端发送syn包到服务器端，进入syn\_send状态，等待服务器端的确认；

第二次握手：服务器端收到客户端的syn包，发送syn+ack包给客户端，进入syn\_recv状态；

第三次握手：客户端收到服务器端的syn+ack包，发送个ack包到服务器端，至此，客户端与服务器端进入established状态；  
握手过程中传送的包不包含任何数据，连接建立后才会开始传送数据，理想状态下，TCP连接一旦建立，在通信双方的任何一方主动关闭连接前，TCP连接都会一直保持下去。

## 2、TCP断开连接的过程。 {#2、TCP断开连接的过程。}

四次挥手：  
第一次挥手：主动关闭方发送fin包到被动关闭方，告诉被动关闭方我不会再给你发送数据了；

第二次挥手：被动关闭方收到syn包，发送ack给对方，确认序号为收到序号+1；

第三次挥手：被动关闭方也也发送fin包给主动关闭方，告诉对方我也不会给你发送数据了；

第四次挥手：主动关闭方收到syn包，发送ack给对方，至此，完成四次挥手；

## 3、浏览器发生302跳转背后的逻辑？ {#3、浏览器发生302跳转背后的逻辑？}

浏览器在原请求地址的响应的Location域找到要跳转的URI执行跳转。

浏览器输入URL后发生了什么

1.DNS域名解析；  
2.建立TCP连接；  
3.发送HTTP请求；  
4.服务器处理请求；  
5.返回响应结果；  
6.关闭TCP连接；  
7.浏览器解析HTML；  
8.浏览器布局渲染；

## 4、HTTP协议的交互流程。HTTP和HTTPS的差异，SSL的交互流程？ {#4、HTTP协议的交互流程。HTTP和HTTPS的差异，SSL的交互流程？}

Http协议

1、建立TCP连接；

2、发送HTTP请求；

3、服务器处理请求；

4、返回响应结果；

5、关闭TCP连接；

HTTPS协议

HTTPS协议就是基于SSL的HTTP协议

HTTPS使用与HTTP不同的端口（HTTP:80 ， HTTPS:443）

提供了身份验证与加密通信方法，被广泛用于互联网上安全敏感的通信。

交互过程

客户端在使用HTTPS方式与Web服务器通信时有以下几个步骤

![img](/static/image/Https交互流程.png)

1、客户端请求SSL连接，并将自己支持的加密规则发给网站。

2、服务器端将自己的身份信息以证书形式发回给客户端。证书里面包含了网站地址，加密公钥，以及证书的颁发机构。

3、获得证书后，客户要做以下工作

* 验证证书合法性

* 如果证书受信任，客户端会生成一串随机数的密码，并用证书提供的公钥进行加密。

* 将加密好的随机数发给服务器。

4、获得到客户端发的加密了的随机数之后，服务器用自己的私钥进行解密，得到这个随机数，把这个随机数作为对称加密的密钥。

5、之后服务器与客户之间就可以用随机数对各自的信息进行加密，解密。

注意的是：证书是一个公钥，这个公钥是进行加密用的。而私钥是进行解密用的。公钥任何都知道，私钥只有自己知道。这是非对称加密。

而对称加密就是钥匙只有一把，我们都知道。  
之所以用到对称加密，是因为对称加密的速度更快。而非对称加密的可靠性更高。

HTTP与HTTPS的区别

1、HTTPS协议需要申请证书。

2、HTTP是明文传输；HTTPS使用的是具有安全性的SSL加密传输协议

3、HTTP端口是80；HTTPS端口号是443

4、HTTP连接简单无状态；HTTPS由SSL+HTTP协议构件的可进行加密传输、身份验证的网络协议。

## 5、Rest和Http什么关系？ 大家都说Rest很轻量，你对Rest风格如何理解？ {#5、Rest和Http什么关系？-大家都说Rest很轻量，你对Rest风格如何理解？}

Http是一种协议，Rest是一种软件架构风格。

URL定位资源，用HTTP动词（GET,POST,DELETE,DETC）描述操作。

GET表示查询、POST表示新建、PUT表示更新、DELETE表示删除等。

```
GET /api/v1/user 获取用户列表

GET /api/v1/user/1 获取ID为1的用户

POST /api/v1/user 新建用户

PUT /api/v1/user/1 更新ID为1的用户信息

DELETE /api/v1/user/1 删除ID为1的用户
```

## 6、TCP的滑动窗口协议有什么用？讲讲原理。 {#6、TCP的滑动窗口协议有什么用？讲讲原理。}

滑动窗口协议是传输层进行流控的一种措施，接收方通过通告发送方自己的窗口大小，从而控制发送方的发送速度，从而达到防止发送方发送速度过快而导致来不及接受。

[TCP原理 滑动窗口](http://blog.csdn.net/cod_e/article/details/78762747)

## 7、HTTP协议都有哪些方法？ {#7、HTTP协议都有哪些方法？}

GET 请求获取由Request-URI所标识的资源。

POST 在Request-URI所标识的资源后附加新的数据。

HEAD 请求获取由Request-URI所标识的资源的响应消息报头。

OPTIONS 请求查询服务器的性能，或查询与资源相关的选项和需求。

PUT 请求服务器存储一个资源，并用Request-URI作为其标识。

DELETE 请求服务器删除由Request-URI所标识的资源。

TRACE 请求服务器回送收到的请求信息，主要用语测试或诊断。

## 8、交换机和路由器的区别？ {#8、交换机和路由器的区别？}

[路由器与交换机的区别](http://www.cnblogs.com/cherishry/p/5721141.html)

1、工作层次不同

* 最初的交换机工作在OSI模型中的数据链路层，工作原理简单

* 路由器工作在OSI模型中的网络层，得更多协议信息，做更智能的转发决策

2、数据转发所依据的对象不同

* 交换机是利用物理地址（MAC地址），确定转发的目的地址。（MAC固化硬件，一般不可更改）

* 路由器是利用IP地址，确定转发的目的地址。（IP通常为网关或系统自动分配的）

3、是否可以分割广播域

* 传统的交换机可以分割冲突域，不能分割广播域，而路由器可以分割广播域

* 由交换机连接的网段仍然属于同一广播域，广播数据报会在交换机连接的所有网段上传播，某些情况导致通信拥挤和安全漏洞。连接到路由器上的网段被分配成不同的广播域，所以，广播数据不穿过路由器  
  虽然三层交换机可以分割广播域，但是子广播域之间不能通信，还是需要路由器

4、路由器提供了防火墙的服务

* 路由器仅仅转发特定地址的数据包，不传送不支持路由协议的数据包，不传送未知目标网络数据包，从而可以防止广播风暴

5、表

二层交换机上存在MAC表，三层交换机上存在路由表、MAC表、ARP表，路由器上存在路由表和ARP表。

* 总之，交换机在具体的城域网中扮演着VLAN透传的角色，就是桥。路由器的每一个端口都是一个独立的广播域和冲突域，而交换机是只有一个广播域和端口数量的冲突域。

## 9、Socket交互的基本流程？ {#9、Socket交互的基本流程？}

[socket通信基本流程](http://blog.csdn.net/Bingo_12345/article/details/48950075)

## 10、http协议（报文结构，断点续传，多线程下载，什么是长连接） {#10、http协议（报文结构，断点续传，多线程下载，什么是长连接）}

## 11、tcp协议（建连过程，慢启动，滑动窗口，七层模型） {#11、tcp协议（建连过程，慢启动，滑动窗口，七层模型）}

## 12、webservice协议（wsdl/soap格式，与rest的区别） {#12、webservice协议（wsdl-soap格式，与rest的区别）}

[webservice、RESTful、REST通俗理解](https://www.zhihu.com/question/30547012)

